<app-navbar></app-navbar>
<div>
    <h1>Assign Tasks to Executives</h1>
  
    <!-- Team Selection -->
    <label for="teamSelect">Select Team:</label>
    <select id="teamSelect">
      <option *ngFor="let team of teams" [value]="team.id">
        {{ team.name }}
      </option>
    </select>
  
    <!-- Team Members -->
<div *ngIf="teamMembers.length > 0">
  <label for="memberSelect">Assign To:</label>
  <select id="memberSelect" [(ngModel)]="selectedMemberId">
    <option *ngFor="let member of membersWithNames" [value]="member.id">
      {{ member.name }}
    </option>
  </select>
</div>

  
    <!-- Task Description -->
    <div>
      <label for="taskDescription">Task Description:</label>
      <textarea
        id="taskDescription"
        [(ngModel)]="taskDescription"
        rows="3"
        cols="50"
      ></textarea>
    </div>
  
    <!-- Deadline -->
    <div>
      <label for="taskDeadline">Deadline:</label>
      <input
        id="taskDeadline"
        type="datetime-local"
        [(ngModel)]="taskDeadline"
      />
    </div>
  
    <!-- Assign Task Button -->
    <button (click)="assignTask()" class="btn btn-primary">Assign Task</button>
  </div>
  
  
  <div *ngIf="tasksWithNames.length > 0; else noTasks">
    <h3>Tasks Assigned by You</h3>
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>Description</th>
          <th>Assigned To</th>
          <th>Deadline</th>
          <th>Status</th>
          <th>Actions</th> <!-- Added Actions column -->
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let task of tasksWithNames">
          <td>{{ task.description }}</td>
          <td>{{ task.assignedToName }}</td>
          <td>{{ task.deadline | date: 'medium' }}</td>
          <td>{{ task.status }}</td>
          <td>
            <button (click)="deleteTask(task.id)" class="btn btn-danger">Delete</button> <!-- Delete Button -->
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <ng-template #noTasks>
    <p>No tasks assigned yet.</p>
  </ng-template>
  
  